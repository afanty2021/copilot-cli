# 版本变更日志

<cite>
**本文档中引用的文件**
- [changelog.md](file://changelog.md)
- [README.md](file://README.md)
- [LICENSE.md](file://LICENSE.md)
</cite>

## 目录
1. [简介](#简介)
2. [版本号命名规则](#版本号命名规则)
3. [版本迭代频率和发布模式](#版本迭代频率和发布模式)
4. [版本变更历史](#版本变更历史)
5. [重大变更影响分析](#重大变更影响分析)
6. [用户行动指南](#用户行动指南)
7. [总结](#总结)

## 简介

GitHub Copilot CLI 是一个强大的终端原生开发工具，为开发者提供 AI 驱动的编码协助。本文档系统性地整理了从 0.0.328 版本到最新版本的所有功能更新、错误修复和性能优化，帮助用户了解版本演进历程并做出相应的使用调整。

该 CLI 工具具有快速迭代的特点，频繁发布新版本以持续改进用户体验和功能特性。通过深入分析每个版本的变更内容，用户可以更好地理解系统的演进方向，并及时更新以获得最佳体验。

## 版本号命名规则

GitHub Copilot CLI 采用语义化版本控制（Semantic Versioning）规范：

- **主版本号（Major）**: 当发生不兼容的 API 变更时递增
- **次版本号（Minor）**: 当以向后兼容的方式添加功能时递增  
- **修订版本号（Patch）**: 当进行向后兼容的问题修复时递增

版本号格式：`0.0.xxx`，其中：
- 第一个 0 表示仍在早期预览阶段
- 第二个 0 表示处于 0.x 系列的早期版本
- `xxx` 是递增的修订号，表示具体的版本序号

**章节来源**
- [changelog.md](file://changelog.md#L1-L279)

## 版本迭代频率和发布模式

### 迭代频率特征

根据变更日志分析，GitHub Copilot CLI 展现出以下迭代频率特征：

- **高频发布**: 每天都有新版本发布，体现了快速迭代的开发策略
- **功能密集**: 单个版本通常包含多个功能更新和优化
- **问题驱动**: 大部分版本都是针对已知问题的修复
- **渐进式改进**: 功能演进呈现渐进式特点，逐步完善用户体验

### 发布模式特点

1. **预览阶段**: 所有版本都标记为公共预览（Public Preview）
2. **实验性功能**: 新功能经常作为实验性功能引入
3. **向后兼容**: 尽量保持向后兼容性，避免破坏性变更
4. **社区反馈**: 基于用户反馈快速调整和优化

**章节来源**
- [README.md](file://README.md#L75-L83)

## 版本变更历史

### 0.0.353 - 2025-10-28
**重大功能更新**:
- 添加自定义代理支持，代理定义来自 `~/.copilot/agents`、`.github/agents` 或组织 `.github` 仓库
- 实现 `/delegate` 命令，可异步委托任务给 Copilot 编码代理
- 支持交互式 `/agent` 和非交互式 `--agent` 参数调用代理
- 代理作为工具提供给模型在任务完成期间调用

### 0.0.352 - 2025-10-27
**优化改进**:
- 改进包含斜杠的 MCP 工具处理
- 改进 `/model <model>` 命令的错误消息

### 0.0.351 - 2025-10-24
**权限请求优化**:
- 改进路径检测启发式算法，避免不必要的权限请求
- 修复多种常见命令的权限请求问题
- 改进对重定向和参数的处理

### 0.0.350 - 2025-10-23
**核心功能增强**:
- 限制默认 GitHub MCP 服务器可用工具数量以节省上下文窗口空间
- 添加 `--enable-all-github-mcp-tools` 标志启用所有工具
- 打包 `sharp` 依赖解决 Windows 启动阻塞问题
- 修复输入令牌跟踪不正确的问题
- 修复流式传输时 MCP 工具参数失败的问题

### 0.0.349 - 2025-10-22
**并发执行优化**:
- 允许模型并行调用多个工具（需提前确认）
- 添加 `/quit` 作为 `/exit` 的别名
- 修复流式输出块被发送回模型的问题
- 改进环境变量展开后的路径权限检查

### 0.0.348 - 2025-10-21
**流式输出革命**:
- 实现逐 token 流式输出，可使用 `--stream off` 禁用
- 改进内存占用，特别是处理大型输出时
- 修复 VSCode 配置文件中注释的保留问题
- 打包 `node-pty` 依赖

### 0.0.347 - 2025-10-20
**统计和渲染优化**:
- 修复前端显示的 PRU 消耗统计数据不正确的问题
- 修复粘贴输入内容被删除后仍发送到模型的问题
- 改进文件差异渲染的行包装和对齐

### 0.0.346 - 2025-10-19
**计费准确性修复**:
- 修复配置文件中指定模型的计费统计不准确问题

### 0.0.345 - 2025-10-18
**计费过载修复**:
- 修复某些用户的 Premium 请求过度计数问题（正在处理退款）

### 0.0.344 - 2025-10-17
**模型和工具增强**:
- 在提示模式下启用 GitHub MCP 服务器
- 添加 bash 工具执行分离进程的支持
- 添加支持的模型列表到 `copilot help config` 文本
- 改进会话中止处理

### 0.0.343 - 2025-10-16
**新模型和配置增强**:
- 添加 Haiku 4.5 模型
- 添加 `--additional-mcp-config` 标志临时覆盖服务器配置
- 改进 Windows 路径处理
- 添加 `/terminal-setup` 提示

### 0.0.342 - 2025-10-15
**会话管理重构**:
- 重新设计会话日志格式，解耦存储和显示方式
- 启用 Kitty 协议，默认支持多行输入
- 改进调试日志收集
- 修复会话卡住状态问题

### 0.0.341 - 2025-10-14
**多行输入支持**:
- 添加 `/terminal-setup` 命令设置多行输入
- 修复 MCP 工具调用拒绝导致后续调用失败的问题

### 0.0.340 - 2025-10-13
**Windows 支持改进**:
- 移除 "Windows 支持是实验性的" 警告
- 改进调试信息包含 Copilot API 请求 ID
- 修复连续孤立工具调用导致的消息格式错误

### 0.0.339 - 2025-10-10
**Kitty 协议回归**:
- 将 Kitty 协议支持移至 `COPILOT_KITTY` 环境变量控制
- 修复多行提示中的换行问题

### 0.0.338 - 2025-10-09
**Kitty 协议优化**:
- 修复 Kitty 协议文本粘贴问题
- 修复 VSCode 终端中 Windows 上的进程挂起问题

### 0.0.337 - 2025-10-08
**安全和输入增强**:
- 添加 MCP 服务器名称验证
- 添加 Ctrl+B 和 Ctrl+F 光标移动支持
- 添加 Kitty 协议多行输入支持

### 0.0.336 - 2025-10-07
**性能优化**:
- 显著减少 token 消耗、往返次数和解决问题时间
- 改进文件写入性能（特别是在 Windows 上）
- 修复 `/clear` 命令未正确重置上下文截断跟踪状态的问题

### 0.0.335 - 2025-10-06
**界面改进**:
- 默认显示文件编辑差异
- 改进斜杠命令输入的参数提示
- 减少颜色使用，改善 Markdown 渲染间距

### 0.0.334 - 2025-10-03
**大内容处理优化**:
- 改进粘贴大内容的体验
- 添加对话上下文接近限制时的警告
- 移除退出使用统计

### 0.0.333 - 2025-10-02
**图像支持和直接执行**:
- 添加图像支持（@提及文件作为模型输入）
- 添加直接执行 shell 命令的能力（前缀 !）
- 添加 `/usage` 斜杠命令提供使用统计

### 0.0.332 - 2025-10-01
**企业级改进**:
- 切换到基于订阅的 Copilot API 端点
- 改进用户切换和认证模式

### 0.0.331 - 2025-10-01
**用户体验优化**:
- 改进文件读取/编辑时间线事件的信息密度
- 改进模型列表过滤

### 0.0.330 - 2025-09-29
**模型切换**:
- 将默认模型改回 Sonnet 4

### 0.0.330 - 2025-09-29
**新模型和改进**:
- 添加 Claude Sonnet 4.5 支持并设为默认模型
- 添加 `/model` 斜杠命令轻松切换模型
- 改进多行输入处理
- 改进单词运动逻辑

### 0.0.329 - 2025-09-29
**基础功能建立**:
- 添加 Claude Sonnet 4.5 支持
- 添加模型切换功能
- 改进错误消息和命令行参数处理
- 改进多行输入处理

### 0.0.328 - 2025-09-26
**基础功能完善**:
- 改进组织策略阻止的错误消息
- 改进缺少 "Copilot Requests" 权限的 PAT 错误消息
- 改进用户列表输出

**章节来源**
- [changelog.md](file://changelog.md#L1-L279)

## 重大变更影响分析

### mcp-config.json 配置格式变更（0.0.340 版本）

**变更详情**:
- 环境变量解析行为改变
- `env` 部分的值现在被视为字面值

**影响范围**:
- 使用 MCP 服务器的客户
- 自定义 MCP 配置的用户

**解决方案**:
```json
// 变更前
{
    "env": {
        "GITHUB_ACCESS_TOKEN": "GITHUB_TOKEN"
     }
}

// 变更后
{
    "env": {
        "GITHUB_ACCESS_TOKEN": "${GITHUB_TOKEN}"
     }
}
```

### 会话日志格式重构（0.0.342 版本）

**变更详情**:
- 引入新的会话日志格式
- 新会话存储位置：`~/.copilot/session-state`
- 旧会话迁移：`~/.copilot/history-session-state`

**影响范围**:
- 所有使用会话恢复功能的用户
- 自动化脚本和工具

**用户行动**:
- 使用 `copilot --resume` 自动迁移现有会话
- 新会话将自动存储在新位置

### Kitty 协议支持调整（0.0.339-0.0.338 版本）

**变更详情**:
- Kitty 协议支持移至环境变量控制
- 修复相关回归问题

**影响范围**:
- 使用多行输入功能的用户
- VSCode 用户

**用户行动**:
- 设置 `COPILOT_KITTY` 环境变量启用 Kitty 协议
- 或运行 `/terminal-setup` 命令

### 企业级 API 端点切换（0.0.332 版本）

**变更详情**:
- 切换到 per-subscription Copilot API 端点
- 符合 GitHub 文档要求

**影响范围**:
- 企业用户
- 使用特定网络访问配置的用户

**章节来源**
- [changelog.md](file://changelog.md#L180-L200)

## 用户行动指南

### 保持客户端更新的重要性

1. **获取最新功能**: 每个版本都带来新功能和改进
2. **获得重要修复**: 许多版本专注于关键 bug 修复
3. **性能优化**: 持续的性能改进提升用户体验
4. **安全增强**: 定期更新确保最佳安全性

### 推荐的更新策略

1. **定期检查更新**: 关注 GitHub Releases 页面
2. **测试新版本**: 在非生产环境中先行测试
3. **备份配置**: 更新前备份重要配置文件
4. **阅读变更日志**: 了解新功能和潜在影响

### 针对不同版本的行动建议

#### 对于 0.0.340 及以上版本用户
- 检查并更新 `mcp-config.json` 配置
- 验证 MCP 服务器环境变量设置

#### 对于 0.0.342 及以上版本用户
- 确认会话恢复功能正常工作
- 检查新会话存储位置的访问权限

#### 对于 0.0.339-0.0.338 版本用户
- 根据需要设置 `COPILOT_KITTY` 环境变量
- 或使用 `/terminal-setup` 命令配置多行输入

### 性能优化建议

1. **监控资源使用**: 注意内存和 CPU 使用情况
2. **优化配置**: 根据使用场景调整配置参数
3. **定期清理**: 清理临时文件和缓存
4. **网络优化**: 确保稳定的网络连接

**章节来源**
- [README.md](file://README.md#L75-L83)

## 总结

GitHub Copilot CLI 的版本变更日志展现了该工具快速发展的历程。从 0.0.328 版本的基础功能建立，到 0.0.353 版本的高级功能完善，每个版本都在不同层面上推动着工具的进步。

### 主要发展趋势

1. **功能丰富化**: 从基本的 AI 辅助发展到完整的开发环境
2. **性能优化**: 持续的性能改进和资源使用优化
3. **用户体验**: 不断改进的用户界面和交互体验
4. **企业集成**: 更好的企业级功能和安全特性

### 未来展望

随着版本的不断演进，GitHub Copilot CLI 正朝着成为开发者终端中不可或缺的智能助手迈进。用户应该保持关注版本更新，及时采用新功能，同时注意配置文件的兼容性调整。

通过系统性地理解这些版本变更，用户可以更好地利用 GitHub Copilot CLI 的强大功能，提高开发效率，享受更好的编程体验。